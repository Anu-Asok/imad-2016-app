<html>
<head>
<title>Login</title>
<link rel="stylesheet" href="/ui/login.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body>

<div class="login-page">
  <div class="form">
  				  <input type="text" id="name" placeholder="name"/>			  

      <input type="text" id="username" placeholder="username"/>
	  <input type="password" id="password" placeholder="password"/>
	  <input type="submit" id="submit-btn"/>
      <p class="message">Already registered? <a href="/login">Sign In</a></p>
  </div>
</div>
<script type="text/javascript">
	var url="localhost:8080";
	var submit_btn=document.getElementById('submit-btn');
	submit_btn.onclick=function(){
	  var request=new XMLHttpRequest();
	  request.onreadystatechange=function(){
		if(request.readyState === XMLHttpRequest.DONE){
		  if(request.status === 200){
			console.log('User created!!');
			alert('User successfully created');
		  }
		  else if(request.status===403){
			alert('Username/password is incorrect');	
			console.log("no entry");
		  }
		  
		  else if(request.status===500){
			alert('Username already exists!');	
			console.log("Wrong");
		  }
		}
	  }	  
	  var name=document.getElementById('name').value;	
	  var username=document.getElementById('username').value;
	  var password=document.getElementById('password').value;
	  console.log(username);
	  console.log(password);
	  request.open('POST',"/create-user",true);
	  request.setRequestHeader('Content-Type','application/json');
      request.send(JSON.stringify({name:name, username: username, password: password}));  
	};
</script>
</body>
</html>
